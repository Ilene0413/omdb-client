/* omdb-client 2.0.0 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).omdb=e()}}(function(){return function e(t,r,o){function n(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return n(r||e)},l,l.exports,e,t,r,o)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,r){"use strict";t.exports.getJson=function(){var e,t=new XMLHttpRequest,r=arguments[0],o=1e4;"function"==typeof arguments[1]&&(e=arguments[1]),"number"==typeof arguments[1]&&(o=arguments[1],e=arguments[2]),t.onreadystatechange=function(){this.timeout=o,4===this.readyState&&(200===this.status?e(null,this.response):0!==this.status&&e(this))},t.open("GET",r),t.responseType="json",t.timeout=o,t.ontimeout=e,t.send()}},{}],2:[function(e,t,r){t.exports.get=e("./lib/get"),t.exports.search=e("./lib/search")},{"./lib/get":3,"./lib/search":4}],3:[function(e,t,r){"use strict";var o=e("./../client/json-http.js"),n=e("./validator");t.exports=function(e,t){var r,i,s,a=(r=e)?r.hasOwnProperty("id")||r.hasOwnProperty("title")?r.hasOwnProperty("title")&&!n.isString(r.title)?{error:"title must be a string."}:r.hasOwnProperty("id")&&!n.isString(r.id)?{error:"id must be a string."}:n.isValidType(r)?r.hasOwnProperty("year")&&!n.isNumber(r.year)?{error:"year must be a valid number"}:n.isValidPlotType(r)?r.hasOwnProperty("incTomatoes")&&!n.isBoolean(r.incTomatoes)?{error:"incTomatoes must be a boolean."}:void 0:{error:"plot must be: short, full."}:{error:"type must be: movie, series, episode."}:{error:"id or title param required."}:{error:"params cannot be null."},u=e&&e.timeout||1e4;a?t(a.error,null):o.getJson((s="?",(i=e).id&&(s+="i=".concat(i.id)),i.title&&(i.id?s+="&t=":s+="t=",s+=encodeURIComponent(i.title)),i.year&&(s+="&y=".concat(i.year)),i.incTomatoes&&(s+="&tomatoes=".concat(i.incTomatoes)),i.type&&(s+="&type=".concat(i.type)),i.plot&&(s+="&plot=".concat(i.plot)),i.apiKey&&(s+="&apiKey=".concat(i.apiKey)),"http://www.omdbapi.com/".concat(s,"&r=json&v=1")),u,function(e,r){e?t(e,null):r.Error?t(r.Error,null):t(null,r)})}},{"./../client/json-http.js":1,"./validator":5}],4:[function(e,t,r){"use strict";var o=e("./../client/json-http.js"),n=e("./validator");t.exports=function(e,t){var r,i,s,a=(r=e)?r.hasOwnProperty("query")?n.isString(r.query)?n.isValidType(r)?r.hasOwnProperty("year")&&!n.isNumber(r.year)?{error:"year must be a valid number"}:void 0:{error:"type must be: movie, series, episode."}:{error:"query must be a string."}:{error:"query param required."}:{error:"params cannot be null."},u=e&&e.timeout||1e4;a?t(a.error,null):o.getJson((i=e,s="?",s+="s=".concat(encodeURIComponent(i.query)),i.year&&(s+="&y=".concat(i.year)),i.type&&(s+="&type=".concat(i.type)),i.apiKey&&(s+="&apikey=".concat(i.apiKey)),"http://www.omdbapi.com/".concat(s,"&r=json&v=1")),u,function(e,r){e?t(e,null):r.Error?t(r.Error,null):t(null,r)})}},{"./../client/json-http.js":1,"./validator":5}],5:[function(e,t,r){"use strict";var o=function(e,t){return typeof e===t};t.exports.isString=function(e){return o(e,"string")},t.exports.isNumber=function(e){return o(e,"number")},t.exports.isBoolean=function(e){return o(e,"boolean")},t.exports.isValidType=function(e){return!e.hasOwnProperty("type")||null!==e.type.match("movie|series|episode")},t.exports.isValidPlotType=function(e){return!e.hasOwnProperty("plot")||null!==e.plot.match("short|full")}},{}]},{},[2])(2)});